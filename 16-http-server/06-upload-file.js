#!/usr/bin/node

const http=require('http');
const qs=require('')
const log=console.log;

//http.createServer().listen(8080);//创建web服务，监听8080端口

http.createServer((req,res)=>{
 
    log(`${req.method}${req.url}HTTP/${req.httpVersion}`);
    log(req.headers);
    log();

    if(req.url==='/' && req.method==='post'){
      var data='';
      req.setEncoding('binary');
      //进行编码，保证是二进制文件可以读任何的文件
      req.on('data',(chunk)=>{
        data+=chunk;
      });
      req.on('end',()=>{
        log(data);
        data.split('\r\n');
        var das=data.split('\r\n');
        log(das[1]);
        log(das[4]);
      });
    
    res.end('OK!!!');

    }else{
    res.statusCode=404;
    res.end('Error!');

  }
}).listen(8080)
